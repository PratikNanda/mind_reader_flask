<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Your Emoji ğŸ”®</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
<div class="container">
    <h1>ğŸ”® Mind Reading in Progress...</h1>

    <div class="card reveal">
        <!-- Mind-reading animation + roleplay -->
        <div id="reading-section">
            <div class="mind-orbit">
                <div class="orbit-circle"></div>
                <div class="orbit-circle orbit-circle-delay"></div>
                <div class="orbit-center">ğŸ§ </div>
            </div>

            <p class="reading-line" id="reading-line">
                Okay, stay focused on your emoji...
            </p>

            <div class="thinking-dots">
                <span>.</span><span>.</span><span>.</span>
            </div>
        </div>

        <!-- Final result (initially hidden) -->
        <div id="result-section" class="hidden">
            <p class="small-label">I think Iâ€™ve got it.</p>
            <p>Your emoji is:</p>
            <p class="big-emoji">{{ secret_emoji }}</p>
            <p class="subtitle">Did I guess it right? ğŸ˜</p>
        </div>
    </div>

    <div class="controls center">
        <a href="{{ url_for('restart') }}" id="try-again" class="btn primary hidden">
            ğŸ” Try Again
        </a>
    </div>

    <footer>
        <p>Mind Reader Game â€¢ Just for fun ğŸ‰</p>
    </footer>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const readingSection = document.getElementById("reading-section");
        const resultSection = document.getElementById("result-section");
        const tryAgainBtn = document.getElementById("try-again");
        const readingLine = document.getElementById("reading-line");

        const lines = [
            "Okay, stay focused on your emoji...",
            "Scanning your thoughts...",
            "Decoding numbers into emojis...",
            "Almost there..."
        ];

        let index = 0;
        const interval = setInterval(() => {
            index = (index + 1) % lines.length;
            readingLine.textContent = lines[index];
        }, 900);

        // After 2.8 seconds, show the result
        setTimeout(() => {
            clearInterval(interval);
            readingSection.classList.add("hidden");
            resultSection.classList.remove("hidden");
            tryAgainBtn.classList.remove("hidden");
            document.querySelector("h1").textContent = "ğŸ”® I Read Your Mind!";
        }, 2800);
    });
</script>
<div class="watermark">Â© Pratik â€¢ Mind Reader</div>
</body>
</html>
